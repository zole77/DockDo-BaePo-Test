<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„ ì˜ê²¬ ìˆ˜ë ´ - ëŒ€í•œë¯¼êµ­ ë…ë„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Song+Myung&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .font-serif-kr { font-family: 'Song Myung', serif; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loader { border: 2px solid #f3f3f3; border-top: 2px solid #3498db; border-radius: 50%; width: 16px; height: 16px; animation: spin 1s linear infinite; display: inline-block; margin-right: 8px; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel" data-presets="react">
        const { useState } = React;

        const App = () => {
            const [author, setAuthor] = useState('');
            const [opinion, setOpinion] = useState('');
            const [status, setStatus] = useState('idle'); // idle, sending, success, error

            // ì—¬ê¸°ì— ë°œê¸‰ë°›ì€ URLì„ ë„£ìœ¼ì„¸ìš”
            const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbycAzA1cP-mu7fOCB85wXmST8dB2Jt29k8TnHntcr88jrioGW30SApBrhV8ggWp88vV/exec";

            const handleSubmit = async (e) => {
                e.preventDefault();
                if (!author.trim() || !opinion.trim()) return;

                setStatus('sending');

                try {
                    // êµ¬ê¸€ ì•±ìŠ¤ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°ì´í„° ì „ì†¡
                    await fetch(SCRIPT_URL, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            author: author.trim(),
                            content: opinion.trim()
                        })
                    });

                    // ì„±ê³µ ì²˜ë¦¬
                    setStatus('success');
                    setAuthor('');
                    setOpinion('');
                    
                    // 3ì´ˆ í›„ ìƒíƒœ ì´ˆê¸°í™”
                    setTimeout(() => setStatus('idle'), 3000);
                } catch (error) {
                    console.error("ì „ì†¡ ì‹¤íŒ¨:", error);
                    setStatus('error');
                    setTimeout(() => setStatus('idle'), 3000);
                }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <header className="bg-white border-b sticky top-0 z-10">
                        <div className="container mx-auto px-6 py-4 flex justify-between items-center">
                            <a href="index.html" className="text-2xl font-black text-blue-900 tracking-tighter">
                                DOKDO<span className="text-blue-500">.</span>
                            </a>
                            <a href="index.html" className="flex items-center gap-2 text-slate-500 hover:text-blue-600 font-bold text-sm transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
                                ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                            </a>
                        </div>
                    </header>

                    <main className="container mx-auto px-6 py-12 flex-grow flex items-center justify-center">
                        <div className="max-w-2xl w-full">
                            <div className="text-center mb-10">
                                <h2 className="text-4xl font-serif-kr font-bold text-slate-900 mb-4">ë…ë„ì—ê²Œ ì „í•˜ëŠ” í•œë§ˆë””</h2>
                                <p className="text-slate-500 leading-relaxed">
                                    ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì€ ì‹¤ì‹œê°„ìœ¼ë¡œ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì— ê¸°ë¡ë©ë‹ˆë‹¤.
                                </p>
                            </div>

                            <form onSubmit={handleSubmit} className="bg-white p-10 rounded-[2.5rem] shadow-xl border border-slate-100">
                                <div className="mb-6">
                                    <label className="block text-sm font-bold text-slate-700 mb-2 ml-1">ì‘ì„±ì</label>
                                    <input 
                                        type="text" 
                                        value={author}
                                        onChange={(e) => setAuthor(e.target.value)}
                                        placeholder="ì´ë¦„ ë˜ëŠ” ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”"
                                        className="w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all"
                                        required
                                        disabled={status === 'sending'}
                                    />
                                </div>
                                <div className="mb-8">
                                    <label className="block text-sm font-bold text-slate-700 mb-2 ml-1">ì˜ê²¬ ë‚´ìš©</label>
                                    <textarea 
                                        rows="6"
                                        value={opinion}
                                        onChange={(e) => setOpinion(e.target.value)}
                                        placeholder="ë…ë„ë¥¼ í–¥í•œ ì‘ì›ì˜ ë©”ì‹œì§€ë¥¼ ììœ ë¡­ê²Œ ë‚¨ê²¨ì£¼ì„¸ìš”."
                                        className="w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:outline-none transition-all resize-none"
                                        required
                                        disabled={status === 'sending'}
                                    ></textarea>
                                </div>
                                
                                <button 
                                    type="submit"
                                    disabled={status === 'sending'}
                                    className={`w-full text-white font-bold py-5 rounded-2xl transition-all transform active:scale-95 shadow-lg flex justify-center items-center ${
                                        status === 'sending' ? 'bg-slate-400' : 'bg-blue-600 hover:bg-blue-700 shadow-blue-200'
                                    }`}
                                >
                                    {status === 'sending' && <span className="loader"></span>}
                                    {status === 'sending' ? 'ê¸°ë¡ ì¤‘...' : 'êµ¬ê¸€ ì‹œíŠ¸ì— ì˜ê²¬ ë“±ë¡í•˜ê¸°'}
                                </button>

                                {status === 'success' && (
                                    <div className="mt-6 p-4 bg-blue-50 text-blue-700 rounded-2xl text-center font-bold animate-bounce">
                                        ğŸ‰ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
                                    </div>
                                )}
                                
                                {status === 'error' && (
                                    <div className="mt-6 p-4 bg-red-50 text-red-700 rounded-2xl text-center font-bold">
                                        âŒ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.
                                    </div>
                                )}
                            </form>
                        </div>
                    </main>

                    <footer className="bg-white py-10 border-t border-slate-200 mt-auto">
                        <div className="container mx-auto px-6 text-center text-slate-400 text-sm">
                            &copy; 2026 ëŒ€í•œë¯¼êµ­ ë…ë„ ìº í˜ì¸. ëª¨ë“  ì˜ê²¬ì€ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ë¡œ í†µí•© ê´€ë¦¬ë©ë‹ˆë‹¤.
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
